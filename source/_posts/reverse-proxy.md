---
title: 正向代理与反向代理的区别
date: 2016-07-27 13:17:48
tags: [proxy,network]
---



> 首先,“代理”一词描述某人或者某物代替其他人来做一些行为。
>
> 在电脑领域,我们说一台服务器代表另一台服务器来做一些行为。
>
> 为了易懂，我这里就简单地讨论网络代理，但是代理并不仅仅局限于网站(网络).

<!--more-->

# 正向代理

在正向代理中，代理代替原始的请求者向另外一个网站请求数据。

下面通过一个例子来说明，这里罗列了3个连接到网络的电脑。

* X = 你的电脑, 或者说是"客户端"
* Y = 代理服务器,例如:proxy.example.org(或者是一个ip)
* Z = 你想访问的网站,例如:www.google.com




 在正常情况下，我们是直接访问 X------>Z.

然而在一些情况下，通过Y来访问更合适，Y------>Z，所以就成了X------>Y------->Z



X使用Y作为正向代理服务器的原因:

X 不能直接访问Z

* X的网络管理员禁止了对网站Z的访问

  例子:

  * 大公司的老板发现自己的员工在工作时间逛淘宝，所以公司的网络管理员禁止了对淘宝网的访问
  * 或者某天朝禁止了一些外国网站的访问



* Z的管理者禁止了来自X的访问

  例子:

  * Z的管理员发现来自X的黑客攻击，所以屏蔽了X的ip






# 反向代理

同样是这个例子，3台连接网络的电脑

- X = 你的电脑, 或者说是"客户端"
- Y = 代理服务器,例如:proxy.example.org(或者是一个ip)
- Z = 你想访问的网站,例如:www.google.com



 在正常情况下，我们是直接访问 X------>Z.

然而在一些情况下，Z的管理者不允许外面的网站直接访问Z，他强制访问的人必须通过Y来访问，所以就像正向代理一样，访问链就像这样X------>Y------->Z

看到这，大家可能觉得迷惑，这不是跟正向代理一样么?

那么区别在哪里呢? 其实,这一次X他不知道他访问的是Z，因为X看到的是他访问的是Y，服务器Z对客户端来说是看不见的。而且反向代理在客户端这边是不需要配置。

简单来说，就是正向代理是X主动配置代理服务器Y去访问Z。而反向代理则是服务器Z配置提供了Y这个代理服务器，对用户X来说，是被动的。



那么Z为什么设置反向代理服务器的原因:

* Z的网站很大，每天有上百万的访问，但同时Z又处理不了所有的访问，所以Z开了很多的服务器，并设置了反向代理服务器，用户访问的时候会通过最近的代理服务器来访问，这就是CDN(Content Distribution Network)的工作原理。
* Z的管理担心网络安全，所以不敢把自己的主服务器暴露给公众，而暴露的是反向代理服务器。







参考文章 :[stackoverflow](http://stackoverflow.com/questions/224664/difference-between-proxy-server-and-reverse-proxy-server)